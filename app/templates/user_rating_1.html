<!DOCTYPE html>
<html>
<head>
	<title>be cool</title>

	<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">

	<link href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
	<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
	<script src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
	<link href="../static/bootstrap/css/star-rating.min.css" media="all" rel="stylesheet" type="text/css"/>
	<script src="../static/bootstrap/js/star-rating.min.js" type="text/javascript"></script>

	<script src="../static/js/searchgazer.js" type="text/javascript"></script>


	<body background="http://fmn.rrfmn.com/fmn078/20160423/2015/large_5kqd_4c92000609851e7f.jpg">
		<br><br><br>
        <form action="/second rating" method="post">
		<input name="student_id" type="hidden" value={{student_id}}>
		<div class="container">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">
						请根据您的喜好程度对以下10个商品进行打分<br>
						一颗星表示<b>完全不感兴趣/不了解</b>,五颗星表示<b>非常喜欢/感兴趣</b><br>
						请对<b>每个商品</b>都进行打分
					</h3>
				</div>
			</div>

			<div class="panel panel-info">

				<div class="panel-body">

				{% for tmplist in match %}
				<div class="row">
					<div class="col-xs-1"></div>
				{% for each in tmplist %}
					<div class="col-xs-2">
						<div class="thumbnail" data-toggle="tooltip" data-placement="top" title="{{each.name}}">
							<a href="{{each.itemUrl}}" target="_blank"><img src="{{each.imgUrl}}"></a>
							<div class="caption">
								<p style="overflow: hidden;white-space: nowrap;text-overflow: ellipsis;">{{each.name}}</p>
								<input name={{each.itemID}} type="number" class="rating" min=0 max=5 step=1 data-size="xs" value="0">
							</div>
						</div>
					</div>
				{% endfor %}
				</div>
				{% endfor %}

				</div>
            <!--form action="/after rating" method="post"-->
            </div>
			<div  style="margin:auto;width:200px">
                    <p><input class="btn btn-primary" type="submit" style="width:200px" value="下一步"></p>
			</div>
            <!--/form-->
		</div>
        </form>

	<style>
		.col-center-block {
			float: none;
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
		.right{float:right; text-align:right;}
	</style>
	<script>
		$(function () { $("[data-toggle='tooltip']").tooltip(); });


	</script>

	<script>
    var collect = false;
    window.onload = function () {
		webgazer.setRegression('ridge') /* currently must set regression and tracker */
				.setTracker('clmtrackr')
				.setGazeListener(function (data, clock) {
//					if (data && collect) {
//						gazepoints.push({"x": data.x, "y": data.y, "time": clock});
//						if (gazepoints.length == 3000) {
//							var containPos = getpos(document.getElementById("items"));
//
//							post2background("heatmap", {
//								"gaze": JSON.stringify(gazepoints),
//								'window_x': containPos.x,
//								'window_y': containPos.y
//							})
//						}
//					}
				})
				.begin()
				.showPredictionPoints(true);

		var width = 320;
		var height = 240;
		var topDist = '0px';
		var leftDist = '0px';

		var setup = function () {
			var video = document.getElementById('webgazerVideoFeed');
			video.style.display = 'hidden';
			video.style.position = 'absolute';
			video.style.top = topDist;
			video.style.left = leftDist;
			video.width = width;
			video.height = height;
			video.style.margin = '0px';

			webgazer.params.imgWidth = width;
			webgazer.params.imgHeight = height;
		};

		function checkIfReady() {
			if (webgazer.isReady()) {
				setup();
			} else {
				setTimeout(checkIfReady, 100);
			}
		}

		setTimeout(checkIfReady, 100);
	};
		window.onbeforeunload = function () {
        webgazer.end();
    };


</script>
	</body>
</html>
		
